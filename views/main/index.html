{% extends 'layout.html' %}

{% block content %}
<ul class="contnt-list">
    {% for content in contents %}
    <li class="content-item">
        <h3>{{content.title}}</h3>
        <div class="content-info">
            <span>作者：</span>
            <span class="color-blue">{{content.user.username}}</span>-
            <span>时间：</span>
            <span class="color-blue">{{content.addTime|date("Y年m月d日H:i:s",-8*60)}}</span>-
            <span>阅读：</span>
            <span class="color-blue">{{content.views}}</span>-
            <span>评论：</span>
            <span class="color-blue">{{content.comments.length}}</span>
        </div>
        <div class="content-description">{{content.description}}</div>
        <button ><a href="/view?content={{content._id.toString()}}">阅读全部</a></button>
    </li>
    {% endfor %}
</ul>
<div class="turn-page">
    {% if pages < 1 %}

    {% else %}
    {{page+'/'+ pages}}
    {%endif%}


    {% if page <= 1 %}
    <span class="prev-btn color-grey">没有上一页</span>
    {% else %}
    <a href="/index?page={{page-1}}&category={{category}}" class="prev-btn">上一页</a>
    {% endif %}

    {% if page >= pages %}
    <span class="next-btn color-grey">没有下一页</span>
    {% else %}
    <a href="/index?page={{page+1}}&category={{category}}" class="next-btn">下一页</a>
    {% endif %}
</div>
{% endblock %}