{% extends 'layout.html' %}
{% block main %}

<ol class="breadcrumb">
    <li><a href="/admin/">管理首页</a></li>
    <li><span>分类列表</span></li>
</ol>
<h3>分类列表</h3>
<table class="table table-hover table-striped">
    <tr><th>ID</th><th>内容名称</th><th>所属类别</th><th>作者</th><th>添加时间</th><th>阅读量</th><th>操作</th></tr>

    {% for content in contents %}
    <tr>
        <td>{{content._id.toString()}}</td>
        <td>{{content.title}}</td>
        <td>{{content.category.name}}</td>
        <!-- date是过滤器，第二个参数是格式，第三个是以分钟为单位的时间偏移量，和时区有关 -->
        <td>{{content.user.username.toString()}}</td>
        <td>{{content.addTime|date("Y-m-d H:i:s",-8*60)}}</td>
        <td>{{content.views}}</td>
        <td>
            <a href="/admin/content/edit?id={{content._id.toString()}}">修改</a> |
            <a href="/admin/content/delete?id={{content._id.toString()}}">删除</a>
        </td>
    </tr>
    {% endfor %}

</table>
{% include 'page.html'%}
{% endblock %}